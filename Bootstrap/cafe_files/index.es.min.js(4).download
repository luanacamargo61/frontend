class t{constructor(){this.promise=new Promise(((t,e)=>{this.reject=e,this.resolve=t}))}}const e=1024,i="WEB_COMPONENT_POPIN_OPEN",n="WEB_COMPONENT_PROJECTS_LOADED",s="WEB_COMPONENT_ANCHOR_LOADED",a=t=>window.napi.catalog().getProduct((t=>t.replace(/[^a-z0-9- +./]/gi,""))(t)),o=t=>{window.gtmDataObject=window.gtmDataObject||[],window.gtmDataObject.push({event:"impression",eventRaisedBy:"Page Builder",eventAction:"Promo Impression",ecommerce:{},...t})},r=t=>{const{campaign:e,cta_name:i}=t;(t=>{var e;window.gtmDataObject=window.gtmDataObject||[],window.gtmDataObject.push({event:"promoClick",eventRaisedBy:"Page Builder",ecommerce:{},...t,cta_name:null!==(e=t?.cta_name)&&void 0!==e?e:"(not set)"})})({cta_name:i,ecommerce:{promoClick:{promotions:[{id:e.id,name:e.name,position:e.position,creative:e.creative}]}}})},c=async(t,e)=>{let i=e;return i||(i=await a(t)),i},l=(t,e={})=>{const{internationalName:i,internationalId:n,category:s,unitPrice:a,legacyId:o,name:r,technologies:c,bundled:l,inStock:d,type:u}=t,h=c.map((t=>t.split("/").pop())).join("|");return[{...e,name:i,id:n,price:a,dimension44:s.toLowerCase().includes("discovery").toString(),dimension53:o,dimension54:r,dimension55:s,dimension56:h,dimension57:l?"bundle":"single",dimension192:d?"in stock":"out of stock",category:u,brand:"Nespresso"}]},d=async(t,e,i,n)=>{const s=await c(i,n),a=l(s,{list:e,position:t}),o=s.currency;window.gtmDataObject=window.gtmDataObject||[],window.gtmDataObject.push({event:"impression",eventAction:"Product Impression",currencyCode:o,eventRaisedBy:"Page Builder",ecommerce:{impressions:a}})};class u{constructor(t,e){this.observer=new IntersectionObserver((t=>this.onChange(t)),{threshold:[0],rootMargin:"0% 0%"}),this.el=t,this.data=e,this.el instanceof Element&&this.observer.observe(this.el)}onChange(t){t.forEach((t=>{t.isIntersecting&&(this.track(t),this.observer.unobserve(t.target))}))}track(){"requestIdleCallback"in window?window.requestIdleCallback((()=>this.runTrack())):window.setTimeout((()=>this.runTrack()),1)}runTrack(){this.data.id&&null!==this.data.id&&""!==this.data.id&&o({ecommerce:{promoView:{promotions:[this.data]}}})}}class h extends u{constructor(t,e){super(t),this.data=e}runTrack(){this.data.id&&null!==this.data.id&&""!==this.data.id&&o({ecommerce:{promoView:{promotions:[this.data]}}})}}function m(t){const e=document.implementation.createHTMLDocument("");return e.body.innerHTML=t,e.body.childNodes}function p(t,e,i,n){const s=(e,i)=>{t.setAttribute(e,i);const s=()=>t.classList.add("lazy-loaded");if(n){const e=new Image;return e.src=n,e.onload=s,void(e.onerror=()=>{throw s(),t.classList.add("lazy-loaded-error"),new Error(`Image ${n} cannot be loaded`)})}s()};if(/Trident\/|MSIE/.test(window.navigator.userAgent)||(a=window.navigator.userAgent,o=a.indexOf("OS "),(a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1)&&o>-1&&window.Number(a.substr(o+3,3).replace("_","."))<14))s(e,i);else if("IntersectionObserver"in window){t.classList.add("lazy-load");let n=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(s(e,i),n.unobserve(t.target))}))}));n.observe(t)}else s(e,i);var a,o}const g={get is(){const{innerWidth:t,devicePixelRatio:i}=window;return{mobile:t<768,mobile_tablet:t<e,tablet:t>=768&&t<e,desktop:t>=e&&i<=1,retina:t>=e&&i>1}},lt:t=>window.innerWidth<t};class b extends HTMLElement{constructor(){super(),this.slot=this.innerHTML}connectedCallback(){this.props=[...this.attributes].reduce(((t,e)=>({...t,[e.nodeName]:e.nodeValue})),{}),this.render(),this.initTracking(),this.initLazyLoad()}initTracking(){const{campaign_id:t=null,campaign_name:e=null,campaign_position:i=null,campaign_creative:n=null}=this.props;!function(t,e){const i=new h(t,e)}(this,{id:t,name:e,position:i,creative:n})}initLazyLoad(){const t=this.querySelector(".cb-bg-img");if(!t)return;const e=this.getBgImgUrl();if(!e)return;const{lazy_load:i}=this.props;"false"!==i?p(t,"style",`background-image: url(${e}); ${t.getAttribute("style")||""}`,e):t.setAttribute("style",`background-image: url(${e})`)}getBgImgUrl(){const{background_mobile:t="",background_tablet:e="",background_desktop:i="",background_retina:n=""}=this.props;let s="";return g.is.mobile&&t?s=t:g.is.tablet&&e?s=e:(g.is.retina||g.is.tablet)&&n?s=n:(g.is.desktop||g.is.retina||g.is.tablet)&&i&&(s=i),s}render(){const{styles:t="",contrast:e,background_color:i="",classname:n="",element_class:s="",slot:a}=this.props;let o="light";"undefined"===e?this.setAttribute("contrast",o):o=e,this.innerHTML=`\n            <section\n                class="${n}"\n                contrast="${o}"\n                style="${t}"\n            >\n                ${i||this.hasBgImage()?this.renderBg():""}\n                <div class="cb-inner ${s}">\n                    ${a}\n                </div>\n            </section>`}hasBgImage(){const{background_mobile:t,background_desktop:e,background_retina:i}=this.props;return!!t||!!e||!!i}renderBg(){const{background_color:t=""}=this.props;return`<div class="cb-bg-color ${t||""}">\n        </div>${this.hasBgImage()?'<div class="cb-bg-img"></div>':""}`}}customElements.get("nb-container")||customElements.define("nb-container",b);const w=t=>{const e=(t=>t.find((t=>"data"===t.nodeName)))([...t]),i=[...t].filter((t=>"data"!==t.nodeName)).reduce(((t,e)=>({...t,[e.nodeName]:e.nodeValue})),{});if(f(e))return i;try{return{...i,...JSON.parse(e.nodeValue)}}catch(t){console.log("ERROR: No data",t,e?.nodeValue)}},f=t=>null==t;class _{constructor(){this._bus=document.createElement("div")}register(t,e){this._bus.addEventListener(t,e)}remove(t,e){this._bus.removeEventListener(t,e)}fire(t,e={}){this._bus.dispatchEvent(new CustomEvent(t,{detail:e}))}}if(!k)var k=new _;var v=k;const y=({eventName:t,args:e,element:i})=>{let n;i=i||window,e?n=new CustomEvent(t,{detail:e,bubbles:!0}):"function"==typeof Event?n=new Event(t):(n=document.createEvent("Event"),n.initEvent(t,!0,!0)),i.dispatchEvent(n)},L=()=>window[window?.padlNamespace]?.dataLayer,C=()=>{const t=L();return t?t.app.app.market.toLocaleLowerCase():"ch"},E=()=>L()?L().page.page.pageInfo.language.toLocaleLowerCase():"en";class $ extends HTMLElement{constructor(){super(),this.props={},this.market=C(),this.language=E()}static get observedAttributes(){return["slot","quantity"]}connectedCallback(){this.props=w(this.attributes),this.boundHandleClick=this.handleClick.bind(this),this.slot=this.innerHTML.replace(/\n*$/,"").trim(),this.render()}render(){const{variation:t,contrast:e,transparent:i="false",size:n="48",icon_right:s="",icon_left:a="",label:o,seo_label:r="",aria_label_before:c,aria_label_after:l,link_new_tab:u=!1,label_update:h,add_to_cart:m="",tracking_position:p="",tracking_list:g="",long_sku:b=""}=this.props;let{link:w}=this.props;const f=this.slot?this.slot:o,_=document.createElement(w?"a":"button");p&&g&&b&&d(p,g,b),w&&(w=w.replace("{market}",this.market),w=w.replace("{lang}",this.language),_.setAttribute("href",w)),w&&u&&_.setAttribute("target","_blank"),r&&w&&_.setAttribute("title",r),c&&_.setAttribute("aria-label",c+" "+f),l&&_.setAttribute("aria-label",f+" "+l),c&&l&&_.setAttribute("aria-label",c+" "+f+" "+l),"navigation"!==t&&_.classList.add("button--cta"),_.classList.add(`button--${t}`),e&&("true"===i?_.classList.add(`button--${e}--transparent`):_.classList.add(`button--${e}`)),n&&_.classList.add(`size--${n}`),"primary"!==t&&"tertiary"!==t||""===m||(this.setAttribute("add_to_cart",m),this.setAttribute("quantity","0"),"small"===m?_.classList.add("addToCart--small"):_.classList.add("addToCart--large")),a&&this.setAttribute("icon_left",a),s&&this.setAttribute("icon_right",s),_.innerHTML=`\n                ${a&&`<nb-icon icon='${a}'></nb-icon>`}\n                <span>${f}</span>\n                ${"primary"===t&&""!==m&&""!==h?`<span class="update">${h}</span>`:""}\n                ${s&&`<nb-icon icon='${s}'></nb-icon>`}\n        `,this.innerHTML=_.outerHTML,this.removeListeners(),this.addListeners()}handleClick(){this.track();const{event_id:t="",popin_id:e="",qs_id:i=""}=this.props;t&&v.fire(t,{}),e&&this.popin(e),i&&this.openQuantitySelector(i)}popin(t){y({eventName:i,args:{id:t}})}openQuantitySelector(t){y({eventName:"WEB_COMPONENT_QS_OPEN",args:{id:t}})}track(){if(this.props.campaign_id){const{campaign_id:t="",campaign_name:e="",campaign_position:i="",campaign_creative:n="",campaign_instance_index:s="",label:a,popin_id:o=""}=this.props,c={id:t,name:e,position:i,creative:n};if(""===c.id)return;const l=o?"POPIN":"CTA",d=this.slot?this.slot:a;r({campaign:c,cta_name:`${l+(s?` - ${s}`:"")} - ${d}`})}}attributeChangedCallback(t){"slot"===t&&this.render(),"quantity"===t&&(this.classList.add("updated"),setTimeout((()=>{this.classList.remove("updated")}),1200))}addListeners(){this.addEventListener("click",this.boundHandleClick)}removeListeners(){this.removeEventListener("click",this.boundHandleClick)}disconnectedCallback(){this.removeListeners()}}customElements.get("nb-cta")||customElements.define("nb-cta",$);class P extends HTMLElement{constructor(){super(),this.slot=this.innerHTML,this.boundHandleClick=this.handleClick.bind(this),this.market=C(),this.language=E()}connectedCallback(){this.props=w(this.attributes),this.render(),this.setClassHelper(),this.bindEvents()}render(){const{size:t="large",color:e="gold",link:i="",icon_right:n="",icon_left:s="",image:a="",image_alt:o=""}=this.props;t&&this.setAttribute("size",t),e&&this.setAttribute("color",e),a&&this.setAttribute("image",a),o&&this.setAttribute("image_alt",o),s&&this.setAttribute("icon_left",s),n&&this.setAttribute("icon_right",n),""===i?this.renderButton():this.renderLink(),this.link=this.firstElementChild}renderLink(){const{label:t,seo_label:e="",tracking_label:i="",link_new_tab:n="false",a11y_label_new_tab:s="",icon_right:a="",image:o="",image_alt:r="",icon_left:c="",selected:l="",phantom:d=""}=this.props;let{link:u}=this.props;const h=this.slot?this.slot:t;u&&(u=u.replace("{market}",this.market),u=u.replace("{lang}",this.language)),this.innerHTML=`\n        <a\n            href="${u}"\n            ${"true"===n?'target="_blank"':""}\n            ${"true"===n&&""!==s?`aria-description='${s}'`:""}\n            ${i&&`tracking_label='${i}'`}\n            ${e?`title="${e}"`:""}\n            ${"true"===l?'aria-selected="true"':""}\n            ${"true"===d?`phantom="${h}"`:""}\n        >\n            ${c&&`<nb-icon icon='${c}'></nb-icon>`}\n            ${o&&`<img src='${o}' alt='${r}'/>`}\n            <span>${h}</span>\n            ${a&&`<nb-icon icon='${a}'></nb-icon>`}\n        </a>`}renderButton(){const{label:t,tracking_label:e="",icon_right:i="",icon_left:n="",selected:s="",image:a="",image_alt:o="",phantom:r=""}=this.props,c=this.slot?this.slot:t;this.innerHTML=`\n        <button\n            ${e&&`tracking_label='${e}'`}\n            ${"true"===s?'aria-selected="true"':""}\n            ${"true"===r?`phantom="${c}"`:""}\n        >\n            ${a&&`<img src='${a}' alt='${o}'/>`}\n            ${n&&`<nb-icon icon='${n}'></nb-icon>`}\n            <span>${c}</span>\n            ${i&&`<nb-icon icon='${i}'></nb-icon>`}\n        </button>`}setClassHelper(){const{size:t="large",cta_link_type:e="false"}=this.props;let i="";switch(t){case"xsmall":i="t-2xs-500";break;case"small":i="t-xs-500-sl";break;case"medium":i="t-sm-400-sl";break;default:i="t-xs-700-caps-sl"}"true"===e&&(i="t-sm-700-caps-sl",this.setAttribute("underline","false")),this.querySelector("a, button").classList.add(i)}handleClick(){this.track();const{popin_id:t="",sku:e="",tracking_position:i="",tracking_list:n=""}=this.props;t&&e?this.quickView(t,e,i,n):t&&this.popin(t)}popin(t){y({eventName:i,args:{id:t}})}quickView(t,e,i,n){y({eventName:"WEB_COMPONENT_QUICKVIEW_OPEN",args:{id:t,sku:e,tracking_position:i,tracking_list:n}})}track(){const{campaign_id:t="",campaign_name:e="",campaign_position:i="",campaign_creative:n="",campaign_instance_index:s="",label:a,popin_id:o="",long_sku:d="",tracking_list:u="",tracking_position:h=""}=this.props,m={id:t,name:e,position:i,creative:n},p=o?"POPIN":"LINK",g=this.slot?this.slot:a,b=s||0===s?` - ${s}`:"";if(u&&h)(async(t,e,i,n)=>{if("string"!=typeof e)return;const s=await c(i,n),a=l(s,{position:t}),o=s.currency;window.gtmDataObject=window.gtmDataObject||[],window.gtmDataObject.push({event:"productClick",eventAction:"Product Click",currencyCode:o,eventRaisedBy:"Page Builder",ecommerce:{click:{actionField:{list:e},products:a}}})})(h,u,d);else{if(!this.props.campaign_id)return;r({campaign:m,cta_name:`${p+b} - ${g}`})}}bindEvents(){this.unbindEvents(),this.link.addEventListener("click",this.boundHandleClick)}unbindEvents(){this.link.removeEventListener("click",this.boundHandleClick)}disconnectedCallback(){this.unbindEvents()}}var O,A;customElements.get("nb-link")||customElements.define("nb-link",P),O=window.memoPromiseCache?window.memoPromiseCache:{},A=class extends HTMLElement{#t="/shared_res/agility/next-components/assets/icons/";#e="";connectedCallback(){this.#e=this.getAttribute("icon"),this.classList.add("lazy-load","nb-svg","nb-icon"),this.render()}static get observedAttributes(){return["icon"]}attributeChangedCallback(t,e,i){e!==i&&(this.#e=i,this.render())}render(){if(""===this.#e)return;this.innerHTML="<svg></svg>",this.#i();let t=this;!function(t,e){if(/Trident\/|MSIE/.test(window.navigator.userAgent)||(i=window.navigator.userAgent,n=i.indexOf("OS "),(i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1)&&n>-1&&window.Number(i.substr(n+3,3).replace("_","."))<14))e();else if("IntersectionObserver"in window){let i=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(e(),i.unobserve(t.target))}))}),{above:[0],rootMargin:"150% 0px"});i.observe(t)}var i,n}(t,(()=>{t.fetchSVG(this.#e,`${this.#t}${this.#e}.svg`)}))}async fetchSVG(t,e){let i=this.firstElementChild,n=new class{constructor(){this.request=this.request.bind(this)}request({uniqueKey:t,url:e}){if(!t)return Promise.reject(new Error("Unique key not passed"));if(!O[t]){let i=fetch(e);O[t]=i.then((t=>t.text())).catch((e=>{throw delete O[t],e}))}return O[t]}},{request:s}=n,a=await s({uniqueKey:t,url:e}),o=(new DOMParser).parseFromString(a,"image/svg+xml").getElementsByTagName("svg");if(!o.length)return this.classList.remove("lazy-load"),void this.classList.add("lazy-loaded-error");this.classList.remove("lazy-load"),this.classList.add("lazy-loaded"),o=o[0];let r=o.attributes,c=r.length;for(let t=0;t<c;++t)if(r[t].specified)if("class"===r[t].name){let e=r[t].value.replace(/\s+/g," ").trim().split(" "),n=e.length;for(let t=0;t<n;++t)i.classList.add(e[t])}else i.setAttribute(r[t].name,r[t].value);for(i.innerHTML="";o.childNodes.length;)i.appendChild(o.childNodes[0])}#i(){this.setAttribute("aria-hidden","true")}},customElements.get("nb-icon")||customElements.define("nb-icon",A);const T="custom",N=[{name:"small",sizes:[16,24,32,36,48,64,72,96,108,120,128,144,150,180,192,216,225,240,288,300,360,384,450,480,600]},{name:"medium",sizes:[270,512,540,675,720,768,800,900,960,1e3,1024,1080,1200,1350,1440,1500,1536,1600,1800,2e3,2048,2400,3e3,3200,4e3]},{name:"large",sizes:[640,1280,1920,2160,2560,2880,3072,3840,4096]},{name:"product",sizes:[45,50,58,60,65,90,100,130,135,174,195,200,230,232,260,300,400,460,690]}];class I extends HTMLElement{constructor(){super()}connectedCallback(){this.props=w(this.attributes),this.render(),this.#n()}#n(){this.lazyload===T&&p(this.firstElementChild,"src",`${this.file}`,this.file)}render(){const{file:t="",description:e="",lazyload:i=T,fetchpriority:n=""}=this.props;""!==t&&(this.lazyload=i,this.file=t+this.#s(),this.#a(),this.classList.add("nb-img"),this.innerHTML=`\n            <img\n                ${this.lazyload===T?'src=""':`src="${this.file}"`}\n                ${""!==e?`alt="${e}"`:'alt="image" aria-hidden="true"'}\n                ${"native"===this.lazyload?'loading="lazy"':""}\n                ${""!==n?`fetchpriority=${n}`:""}\n                class="loading"\n             />`,this.parentClass=this.getAttribute("class").split(" ")[0],""!==this.parentClass&&this.firstElementChild.classList.add(this.parentClass+"-content"))}#s(){const{aspect_ratio:t,force_width:e,force_height:i,impolicy:n=!0}=this.props;if("false"===n)return"";let s=this.offsetWidth;if(e&&""!==e&&(s=Number(e)),i&&""!==i){const[e,n]=t.split("/");s=Math.round(Number(i)*e/n)}let a=this.#o(s);return`?impolicy=${this.#r(a)}&imwidth=${a}&imdensity=1`}#o(t){const{devicePixelRatio:e}=window;return e>1?2*t:t}#r(t){const{exactFound:e,closests:i}=this.#c(t);if(e)return e.name;{let t=i[0].diff,e=null;return i.forEach((i=>{i.diff<=t&&(t=i.diff,e=i)})),e.name}}#c(t){let e=null,i=[];return N.every((n=>{const s=n.sizes.find((e=>e>=t));if(s){if(s===t)return e=n,!1;i.push({name:n.name,diff:s-t})}return!0})),{exactFound:e,closests:i}}#a(){const{aspect_ratio:t,object_fit:e,placeholder_color_light:i,placeholder_color_dark:n,error_message:s}=this.props;this.#l("--image-aspect-ratio",t),this.#l("--image-object-fit",e),this.#l("--image-placeholder-color-light",i),this.#l("--image-placeholder-color-dark",n),this.#l("--image-placeholder-error-text",'"'+s+'"')}#l(t,e){e&&'"undefined"'!==e&&this.style.setProperty(t,e)}}customElements.get("nb-img")||customElements.define("nb-img",I);class x extends HTMLElement{constructor(){super(),this.props={}}connectedCallback(){this.props=w(this.attributes),this.render()}render(){const{icon:t="24/symbol/loading",state:e="is-loading"}=this.props;this.innerHTML=`<nb-icon icon="${t}" class="${e}"></nb-icon>`}}customElements.get("nb-loader")||customElements.define("nb-loader",x);class D extends u{constructor(t,e,i,n,s){super(t),this.node=t,this.data=e,this.currency=i,this.range=n,this.position=s}async runTrack(){const t=this.node.closest("[tracking_no_impression]")?.getAttribute("tracking_no_impression")||!1,e=this.node.closest("[tracking_position]")?.getAttribute("tracking_position")||0,i=this.node.closest("[tracking_list]")?.getAttribute("tracking_list")||"";"true"!==t&&await d(e,i,this.data.id)}async getPLPCategory(t){return(await window.getPLPData()).data.configuration.eCommerceData.categories.find((e=>e.id===t))}async getCategoriesWithPlpData(t){const e="/machineTechno/",i=[...t.cupSizes||[],...t.flavors||[],...t.ranges||[],...t.technologies||[]];return(await Promise.all(i.map((async t=>{const i=await this.getPLPCategory(t);return!i&&(t=>-1!==t.indexOf(e))(t)?(t=>t.substr(t.indexOf(e)+15))(t):i.name})))).join("|")}async getCategories(t){return t?window.getPLPData?this.getCategoriesWithPlpData(t):Promise.all(t.supercategories.map((t=>window.napi.catalog().getCategory(t)))).then((t=>{const e=[];for(const i of t){const t=i.code;if(!t)return;(~t.indexOf("-cupSize-")||~t.indexOf("-range-")||~t.indexOf("capsule-aromatic-")||~t.indexOf("machine-keyFeature-")||~t.indexOf("machine-color-")||~t.indexOf("accessory-collection-")||~t.indexOf("accessory-hero-month"))&&e.push(i.name.toLowerCase())}return e.join("|")})):""}buildGTMProductObject(t,e){let i;"capsule"===t.type?i="capsules":"accessory"===t.type?i="accessories":"machine"===t.type&&(i="machines");let n=null;t.technologies&&(n=t.technologies.map((t=>function(t=""){return t[0].toUpperCase()+t.slice(1)}(t.split("/")[2]))).join("|||"));let s="";null!=t.productSelections&&(s=t.productSelections.join("|"));const a={brand:"Nespresso",category:i,dimension43:"false",dimension44:"false",dimension53:t.legacyId,dimension54:m(t.name)[0].textContent,dimension55:e,dimension56:n,dimension57:this.isBundled(t)?"bundled":"single",dimension130:s,id:t.internationalId,name:m(t.internationalName)[0].textContent,price:t.price};return this.range&&(a.list=this.range),this.position&&(a.position=parseInt(this.position)),a}isBundled(t){let e=1===t.salesMultiple&&t.unitQuantity>1;return t.bundled?e=t.bundled:t.salesMultiple>1&&1===t.unitQuantity&&(e=!1),e}}class M extends HTMLElement{connectedCallback(){this.sku=(this.getAttribute("sku")||"").trim(),this.range=this.getAttribute("range"),this.position=this.getAttribute("position"),this.longSku=(this.getAttribute("longSku")||"").trim(),this.buttonSize=this.getAttribute("buttonSize")||"small",this.rendererName=this.getAttribute("rendererName")||"default",this.elementID=`u-product-${""!==this.range?this.range.replace(/(\s|\W)/g,"")+"-":""}${this.position}-${this.sku}-${this.longSku.replace(/(\s|\W)/g,"")}-${this.rendererName}`,this.render(),this.isWindowNapiActive()&&(window.napi.getConfig().then((()=>{this.pushButton()})).catch((t=>console.error(t))),this.tracking().then((()=>{})).catch((t=>console.error(t))))}render(){this.innerHTML=`<div class="cb-AddToCart" id="${this.elementID}">\n                <button class='AddToBagButtonLarge'>\n                    <span class='AddToBagButtonLarge__label'>+</span>\n                </button>\n            </div>`}isWindowNapiActive(){return!!window.napi}pushButton(){if(!document.getElementById(this.elementID))return;const t=this.buttonSize;window.ui=window.ui||[],window.ui.push({id:this.elementID,module:"AddToBagButton",configuration:{props:{productId:this.longSku,buttonSize:t}},ecommerceData:{activated:!0}})}async tracking(){if(!this.isWindowNapiActive())return new Promise.resolve;!function(t,e,i,n,s){const a=new D(t,e,i,n,s)}(this,await this.getProductData(),window[window.config.padl.namespace].dataLayer.app.app.currency,this.range,this.position)}getSkuKey(t){return-1!==t.indexOf("prod/")?"id":"legacyId"}async getProductData(){let t=null;if(null!=window.getPLPData&&(t=await window.getPLPData()),t){const e=[this.getSkuKey(this.sku),"internationalId","id","legacyId"];let i=0,n=null;for(;!n&&i<e.length-1;){const s=e[i];n=t.data.configuration.eCommerceData.products.find((t=>t[s]===this.sku)),i++}return n}if(this.isWindowNapiActive())return await a(this.longSku);console.error("Error: napi is not found.")}}customElements.get("nb-add-to-cart")||customElements.define("nb-add-to-cart",M);const z={Deferred:t};window.nwcFoundations=z;const B=()=>{window.location.hash&&window.location.hash.substring(1)&&(window.removeEventListener(s,H),window.removeEventListener(n,H))};async function H(){if(B(),!window.location.hash)return;const e=window.location.hash.substring(1);if(!e)return;await async function(){if(!window.nwc||!window.nwc.projects)return;const t=[];window.nwc.projects.forEach((e=>e.components.forEach((e=>e.el&&null!=e.el.ready&&t.push(e.el.ready))))),await Promise.all(t)}();const i=document.querySelector(`[data-id="${e}"]`);i&&await((e,i={})=>{const n={scrollPaddingTop:140,scrollDuration:300,...i},s=new t;let a;const o=typeof e;if(["string","object"].indexOf(o)>-1){a=e,"string"===o&&(a=document.querySelector(e));try{e=window.pageYOffset+a.getBoundingClientRect().top-n.scrollPaddingTop}catch(t){throw new Error(`error: No element found with the selector "${e}"`)}}else"number"!=typeof e&&(e=0);let r=window.performance.now(),c=0,l=window.pageYOffset-e,d=window.innerHeight,u=document.body.clientHeight;l>d&&u-d>0&&(n.scrollDuration=Math.abs(n.scrollDuration+n.scrollDuration*(Math.abs(l)/(u-d))));let h=r+n.scrollDuration;return window.requestAnimationFrame((function t(){let i=window.performance.now();if(i<h){c=(i-r)/n.scrollDuration,c=--c*c*c+1;const s=l*c;window.scrollTo(0,e+(l-s)),window.requestAnimationFrame(t)}else window.scrollTo(0,e),setTimeout((()=>s.resolve()),125);return s.promise})),s.promise})(i)}window.location.hash&&window.location.hash.substring(1)&&(window.addEventListener(s,H),window.addEventListener(n,H)),window.addEventListener("hashchange",H);

(window.webpackJsonpCrema=window.webpackJsonpCrema||[]).push([[46],{1024:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _compose2=_interopRequireDefault(__webpack_require__(25)),_provideClassName2=_interopRequireDefault(__webpack_require__(134)),_translate2=_interopRequireDefault(__webpack_require__(71)),_provideCartSpecificECommerceData2=_interopRequireDefault(__webpack_require__(1877)),_PromotionBanner2=_interopRequireDefault(__webpack_require__(1879)),_provideValueByFormFactor2=_interopRequireDefault(__webpack_require__(1369));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var applyHOC=(0,_compose2.default)(_provideCartSpecificECommerceData2.default,_provideClassName2.default,(0,_provideValueByFormFactor2.default)({width:function(){return{narrow:"768",medium:"996",wide:"996"}},height:function(){return{narrow:"178",medium:"115",wide:"115"}},policy:function(){return{narrow:"horizontalBannerNarrow",medium:"large",wide:"large"}}}),(0,_translate2.default)({a11yBannerTitle:"promotionbannersrespblock.a11y.title"}));exports.default=applyHOC(_PromotionBanner2.default)},1369:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(5)),_keys2=_interopRequireDefault(__webpack_require__(10)),_defineProperty3=_interopRequireDefault(__webpack_require__(9)),_typeof3=_interopRequireDefault(__webpack_require__(33)),_slicedToArray3=_interopRequireDefault(__webpack_require__(75)),_react2=_interopRequireDefault(__webpack_require__(0)),_reactRedux=__webpack_require__(17),_getDisplayName2=(_interopRequireDefault(__webpack_require__(2)),_interopRequireDefault(__webpack_require__(1370))),_arrayUtils=__webpack_require__(60);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var error=console.error,mapStateToProps=function(_ref){return{viewport:_ref.viewport}},fillValueForFormFactor=function(props,formFactor,data){var _data=(0,_slicedToArray3.default)(data,2),prop=_data[0],mapValueToFormFactor=_data[1];switch(void 0===prop?"undefined":(0,_typeof3.default)(prop)){case"string":return(0,_defineProperty3.default)({},prop,mapValueToFormFactor(props)[formFactor]);case"object":return(0,_keys2.default)(prop).reduce((0,_arrayUtils.quickAssignReducer)((function(key){return prop[key](props)[formFactor]})),{});default:return error("You should provide data as a string or as an object construction."),{}}};exports.default=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return function(Component){var WithValueByFormFactor=function(props){var _props$viewport=props.viewport,formFactor=(void 0===_props$viewport?{}:_props$viewport).formFactor,extending=fillValueForFormFactor(props,formFactor,args);return _react2.default.createElement(Component,(0,_extends3.default)({},props,extending))};return WithValueByFormFactor.displayName=(0,_getDisplayName2.default)(Component,"WithValueByFormFactor"),(0,_reactRedux.connect)(mapStateToProps)(WithValueByFormFactor)}}},1370:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var FUNCTION_NAME=/function ([^(]+)/;exports.default=function(Component){var fallback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"anonymous",name=Component.displayName||Component.name||Component.toString().match(FUNCTION_NAME);return name?"string"==typeof name?name:name[1]:fallback}},1877:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(13)),_classCallCheck3=_interopRequireDefault(__webpack_require__(15)),_createClass3=_interopRequireDefault(__webpack_require__(16)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(19)),_inherits3=_interopRequireDefault(__webpack_require__(20)),_assign2=_interopRequireDefault(__webpack_require__(1)),_react2=_interopRequireDefault(__webpack_require__(0)),_reactRedux=__webpack_require__(17),_network=(_interopRequireDefault(__webpack_require__(2)),__webpack_require__(1878)),_cart=__webpack_require__(240),_constants=__webpack_require__(21),_ecapi=__webpack_require__(73),_restrictions=__webpack_require__(59);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var mapStateToProps=function(state){return{isLoggedIn:(0,_restrictions.userIsLogged)((0,_ecapi.fromEcapiGetter)(state)(_constants.CUSTOMER_DATA)),cartQuantity:(0,_cart.getCartQuantity)(state)}};exports.default=function(Component){var ProvideDynamicECommerceData=function(_React$Component){function ProvideDynamicECommerceData(props){(0,_classCallCheck3.default)(this,ProvideDynamicECommerceData);var _this=(0,_possibleConstructorReturn3.default)(this,(ProvideDynamicECommerceData.__proto__||(0,_getPrototypeOf2.default)(ProvideDynamicECommerceData)).call(this,props));return _this.state={eCommerceData:props.eCommerceData},_this}return(0,_inherits3.default)(ProvideDynamicECommerceData,_React$Component),(0,_createClass3.default)(ProvideDynamicECommerceData,[{key:"componentWillReceiveProps",value:function(nextProps){(function(props,nextProps){return nextProps&&props.isLoggedIn&&void 0!==nextProps.cartQuantity&&props.cartQuantity!==nextProps.cartQuantity})(this.props,nextProps)&&this.refreshECommerceData()}},{key:"refreshECommerceData",value:function(){var _this2=this,sourceUrl=this.props.eCommerceData.sourceUrl;sourceUrl&&(0,_network.fetchJsonNoCache)(sourceUrl).then((function(json){json&&json.length&&_this2.setState({eCommerceData:JSON.parse(json)})}))}},{key:"render",value:function(){return _react2.default.createElement(Component,(props=this.props,(eCommerceData=this.state.eCommerceData)&&eCommerceData!==props.eCommerceData?(0,_assign2.default)({},props,{eCommerceData:eCommerceData}):props));var props,eCommerceData}}]),ProvideDynamicECommerceData}(_react2.default.Component);return ProvideDynamicECommerceData.defaultProps={cartQuantity:0,isLoggedIn:!1},(0,_reactRedux.connect)(mapStateToProps)(ProvideDynamicECommerceData)}},1878:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var jsonNoCacheOptions={credentials:"same-origin",headers:{Accept:"application/json",cache:"no-store",pragma:"no-cache","Cache-Control":"no-cache"}};exports.fetchJsonNoCache=function(url){return fetch(url,jsonNoCacheOptions).then((function(response){return response.json()})).catch((function(){return null}))}},1879:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _assign2=_interopRequireDefault(__webpack_require__(1)),_react2=_interopRequireDefault(__webpack_require__(0)),_classnames2=_interopRequireDefault(__webpack_require__(8)),_Banner2=(_interopRequireDefault(__webpack_require__(2)),_interopRequireDefault(__webpack_require__(212))),_VisuallyHidden2=_interopRequireDefault(__webpack_require__(46)),_NpmBanner2=_interopRequireDefault(__webpack_require__(1880));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getDisplayableBanner=function(eCommerceData,bannerElements){var npmBanner=function(_ref){var promotions=_ref.promotions;if(promotions&&promotions.length){var _promotions$=promotions[0],banner=_promotions$.banner,products=_promotions$.products,promotionCode=_promotions$.promotionCode,npmLightbox=(0,_assign2.default)({},banner.lightbox,{products:products});return(0,_assign2.default)({},banner,{isNpm:!0,lightbox:npmLightbox,promotionCode:promotionCode})}return null}(eCommerceData);return npmBanner||bannerElements[0]},PromotionBanner=function(_ref2){var className=_ref2.className,bannerElements=_ref2.bannerElements,shouldHaveBackgroundColor=_ref2.shouldHaveBackgroundColor,width=_ref2.width,height=_ref2.height,policy=_ref2.policy,a11yBannerTitle=_ref2.a11yBannerTitle,eCommerceData=_ref2.eCommerceData,bannerElement=getDisplayableBanner(eCommerceData,bannerElements);if(!bannerElement)return null;var backgroundColor=bannerElement.backgroundColor?bannerElement.backgroundColor:"white",style=shouldHaveBackgroundColor?{backgroundColor:backgroundColor}:{},bannerClassName=(0,_classnames2.default)("ResponsiveContainer",{"ResponsiveContainer--collated":shouldHaveBackgroundColor},"PromotionBanner__Banner"),bannerProps=(0,_assign2.default)({},bannerElement,{className:bannerClassName,flexible:!0,lazyLoaded:!1,policy:policy,height:height,width:width}),bannerToRender=bannerElement.isNpm?_react2.default.createElement(_NpmBanner2.default,bannerProps):_react2.default.createElement(_Banner2.default,bannerProps);return _react2.default.createElement("div",{className:(0,_classnames2.default)(className,"PromotionBanner"),style:style},_react2.default.createElement(_VisuallyHidden2.default,{tagName:"h2",value:a11yBannerTitle}),bannerToRender)};PromotionBanner.displayName="PromotionBanner",PromotionBanner.defaultProps={bannerElements:[],eCommerceData:{}},exports.default=PromotionBanner},1880:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _NpmBannerContainer=__webpack_require__(1881);Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return(obj=_NpmBannerContainer,obj&&obj.__esModule?obj:{default:obj}).default;var obj}})},1881:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _assign2=_interopRequireDefault(__webpack_require__(1)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(13)),_classCallCheck3=_interopRequireDefault(__webpack_require__(15)),_createClass3=_interopRequireDefault(__webpack_require__(16)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(19)),_inherits3=_interopRequireDefault(__webpack_require__(20)),_react2=_interopRequireDefault(__webpack_require__(0)),_NpmBanner2=_interopRequireDefault(__webpack_require__(1882));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NpmBannerContainer=function(_React$Component){function NpmBannerContainer(props){(0,_classCallCheck3.default)(this,NpmBannerContainer);var _this=(0,_possibleConstructorReturn3.default)(this,(NpmBannerContainer.__proto__||(0,_getPrototypeOf2.default)(NpmBannerContainer)).call(this,props));return _this.openLightbox=_this.openLightbox.bind(_this),_this.closeLightbox=_this.closeLightbox.bind(_this),_this.state={npmLightboxOpen:!1},_this}return(0,_inherits3.default)(NpmBannerContainer,_React$Component),(0,_createClass3.default)(NpmBannerContainer,[{key:"openLightbox",value:function(){this.setState({npmLightboxOpen:!0})}},{key:"closeLightbox",value:function(){this.setState({npmLightboxOpen:!1})}},{key:"render",value:function(){var props=(0,_assign2.default)({},this.props,{openLightbox:this.openLightbox,closeLightbox:this.closeLightbox,isOpen:this.state.npmLightboxOpen});return _react2.default.createElement(_NpmBanner2.default,props)}}]),NpmBannerContainer}(_react2.default.Component);exports.default=NpmBannerContainer},1882:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(5)),_react2=_interopRequireDefault(__webpack_require__(0)),_Banner2=(_interopRequireDefault(__webpack_require__(2)),_interopRequireDefault(__webpack_require__(234))),_NpmLightbox2=_interopRequireDefault(__webpack_require__(1883));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(props){var lightbox=props.lightbox,isOpen=props.isOpen,closeLightbox=props.closeLightbox,openLightbox=props.openLightbox,promotionCode=props.promotionCode;return _react2.default.createElement("div",null,_react2.default.createElement(_Banner2.default,(0,_extends3.default)({},props,{isButton:!0,focusId:"NpmBanner__banner",onClick:openLightbox})),_react2.default.createElement(_NpmLightbox2.default,{lightbox:lightbox,isOpen:isOpen,handleOpenLightbox:openLightbox,handleCloseLightbox:closeLightbox,promotionCode:promotionCode}))}},1883:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _NpmLightboxAsync=__webpack_require__(1884);Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return(obj=_NpmLightboxAsync,obj&&obj.__esModule?obj:{default:obj}).default;var obj}})},1884:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(5)),_react2=_interopRequireDefault(__webpack_require__(0)),_ComponentAsync2=_interopRequireDefault(__webpack_require__(138));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(props){return _react2.default.createElement(_ComponentAsync2.default,(0,_extends3.default)({},props,{componentName:"NpmLightboxContainer"}))}}}]);